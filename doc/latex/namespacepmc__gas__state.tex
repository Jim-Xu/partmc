\hypertarget{namespacepmc__gas__state}{}\section{pmc\+\_\+gas\+\_\+state Module Reference}
\label{namespacepmc__gas__state}\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}


The \mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}} structure and associated subroutines.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Current state of the gas mixing ratios in the system. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a4bb5e19ab85b92dac65f973abcfcc416}{gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc}} (this, phlex\+\_\+state)
\begin{DoxyCompactList}\small\item\em Set Phlexible chemistry gas-\/phase species concentrations. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a93dce5fa598274335861553be37d27f0}{gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc}} (this, phlex\+\_\+state)
\begin{DoxyCompactList}\small\item\em Get Phlexible chemistry gas-\/phase species concentrations. \end{DoxyCompactList}\item 
logical function \mbox{\hyperlink{namespacepmc__gas__state_a589f5022a3cc8311ce829f31b8f4f641}{gas\+\_\+state\+\_\+is\+\_\+allocated}} (gas\+\_\+state)
\begin{DoxyCompactList}\small\item\em Determine whether the {\ttfamily gas\+\_\+state} is correctly allocated. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_aa5f6579f91a3e4b7bfb959af9624088d}{gas\+\_\+state\+\_\+set\+\_\+size}} (gas\+\_\+state, n\+\_\+spec)
\begin{DoxyCompactList}\small\item\em Sets the sizes of the gas state. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a041688687cbca4258024f99f99c679ea}{gas\+\_\+state\+\_\+zero}} (gas\+\_\+state)
\begin{DoxyCompactList}\small\item\em Zeros the state. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_ab16ebc3648f8854efd45182cfb2097ca}{gas\+\_\+state\+\_\+scale}} (gas\+\_\+state, alpha)
\begin{DoxyCompactList}\small\item\em Scale a gas state. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_ae81c12f010adf0cbed8104e5f7ecfca0}{gas\+\_\+state\+\_\+add}} (gas\+\_\+state, gas\+\_\+state\+\_\+delta)
\begin{DoxyCompactList}\small\item\em Adds the given gas\+\_\+state\+\_\+delta. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_aad52ea70d41084b337a37173e58e1c4a}{gas\+\_\+state\+\_\+add\+\_\+scaled}} (gas\+\_\+state, gas\+\_\+state\+\_\+delta, alpha)
\begin{DoxyCompactList}\small\item\em Adds the given {\ttfamily gas\+\_\+state\+\_\+delta} scaled by {\ttfamily alpha}. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a0ee905bb7dd2b8e8a576ea04e0f7b699}{gas\+\_\+state\+\_\+sub}} (gas\+\_\+state, gas\+\_\+state\+\_\+delta)
\begin{DoxyCompactList}\small\item\em Subtracts the given gas\+\_\+state\+\_\+delta. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a19baf5dd776198d429d632a7749e734f}{gas\+\_\+state\+\_\+ensure\+\_\+nonnegative}} (gas\+\_\+state)
\begin{DoxyCompactList}\small\item\em Set any negative values to zero. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a418fa0d971e5c3f84a8f7f90b1da4ac7}{gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb}} (gas\+\_\+state, env\+\_\+state)
\begin{DoxyCompactList}\small\item\em Convert (mol m$^\wedge$\{-\/3\}) to (ppb). \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_ab70d882ec5ebc99127b4e815278cb15a}{gas\+\_\+state\+\_\+interp\+\_\+1d}} (gas\+\_\+state\+\_\+list, time\+\_\+list, rate\+\_\+list, time, gas\+\_\+state, rate)
\begin{DoxyCompactList}\small\item\em Determine the current gas\+\_\+state and rate by interpolating at the current time with the lists of gas\+\_\+states and rates. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a119c0276d5da30938468361b975dad19}{gas\+\_\+state\+\_\+mix}} (val)
\begin{DoxyCompactList}\small\item\em Average val over all processes. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a8423bef411d25375dfd0b897f38f117b}{gas\+\_\+state\+\_\+reduce\+\_\+avg}} (val)
\begin{DoxyCompactList}\small\item\em Average val over all processes, with the result only on the root process. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacepmc__gas__state_a2c2f0e95ffd10c3821f774e371d54d37}{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state}} (val)
\begin{DoxyCompactList}\small\item\em Determines the number of bytes required to pack the given value. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a4bb38e6e0dabd7944df3a2ce21020b92}{pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state}} (buffer, position, val)
\begin{DoxyCompactList}\small\item\em Packs the given value into the buffer, advancing position. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a1b00ba3d007dfa64c0855d8446b414ff}{pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state}} (buffer, position, val)
\begin{DoxyCompactList}\small\item\em Unpacks the given value from the buffer, advancing position. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_abd055facc753ab5852638928dfc1f7eb}{pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state}} (val, val\+\_\+avg)
\begin{DoxyCompactList}\small\item\em Computes the average of val across all processes, storing the result in val\+\_\+avg on the root process. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__gas__state_a1d5cd181f15a8489399a542e0ab98810}{gas\+\_\+state\+\_\+input\+\_\+netcdf}} (gas\+\_\+state, \mbox{\hyperlink{fractal_8_f90_a4e89f3f850921ff84a6dfce8b166ad50}{ncid}}, gas\+\_\+data)
\begin{DoxyCompactList}\small\item\em Read full state. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}} structure and associated subroutines. 

\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacepmc__gas__state_ae81c12f010adf0cbed8104e5f7ecfca0}\label{namespacepmc__gas__state_ae81c12f010adf0cbed8104e5f7ecfca0}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+add@{gas\+\_\+state\+\_\+add}}
\index{gas\+\_\+state\+\_\+add@{gas\+\_\+state\+\_\+add}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+add()}{gas\_state\_add()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+add (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{gas\+\_\+state\+\_\+delta }\end{DoxyParamCaption})}



Adds the given gas\+\_\+state\+\_\+delta. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Existing gas state.\\
\hline
\mbox{\tt in}  & {\em gas\+\_\+state\+\_\+delta} & Incremental state. \\
\hline
\end{DoxyParams}


Definition at line 133 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_aad52ea70d41084b337a37173e58e1c4a}\label{namespacepmc__gas__state_aad52ea70d41084b337a37173e58e1c4a}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+add\+\_\+scaled@{gas\+\_\+state\+\_\+add\+\_\+scaled}}
\index{gas\+\_\+state\+\_\+add\+\_\+scaled@{gas\+\_\+state\+\_\+add\+\_\+scaled}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+add\+\_\+scaled()}{gas\_state\_add\_scaled()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+add\+\_\+scaled (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{gas\+\_\+state\+\_\+delta,  }\item[{real(kind=dp), intent(in)}]{alpha }\end{DoxyParamCaption})}



Adds the given {\ttfamily gas\+\_\+state\+\_\+delta} scaled by {\ttfamily alpha}. 

Does gas\+\_\+state += alpha $\ast$ gas\+\_\+state\+\_\+delta.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Existing gas state.\\
\hline
\mbox{\tt in}  & {\em gas\+\_\+state\+\_\+delta} & Incremental state.\\
\hline
\mbox{\tt in}  & {\em alpha} & Scale factor. \\
\hline
\end{DoxyParams}


Definition at line 155 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a19baf5dd776198d429d632a7749e734f}\label{namespacepmc__gas__state_a19baf5dd776198d429d632a7749e734f}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+ensure\+\_\+nonnegative@{gas\+\_\+state\+\_\+ensure\+\_\+nonnegative}}
\index{gas\+\_\+state\+\_\+ensure\+\_\+nonnegative@{gas\+\_\+state\+\_\+ensure\+\_\+nonnegative}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+ensure\+\_\+nonnegative()}{gas\_state\_ensure\_nonnegative()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+ensure\+\_\+nonnegative (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}})}]{gas\+\_\+state }\end{DoxyParamCaption})}



Set any negative values to zero. 


\begin{DoxyParams}{Parameters}
{\em gas\+\_\+state} & Gas state. \\
\hline
\end{DoxyParams}


Definition at line 198 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a93dce5fa598274335861553be37d27f0}\label{namespacepmc__gas__state_a93dce5fa598274335861553be37d27f0}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc@{gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc}}
\index{gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc@{gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc()}{gas\_state\_get\_phlex\_conc()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+get\+\_\+phlex\+\_\+conc (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{this,  }\item[{type(\mbox{\hyperlink{structpmc__phlex__state_1_1phlex__state__t}{phlex\+\_\+state\+\_\+t}}), intent(in)}]{phlex\+\_\+state }\end{DoxyParamCaption})}



Get Phlexible chemistry gas-\/phase species concentrations. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em this} & Gas state\\
\hline
\mbox{\tt in}  & {\em phlex\+\_\+state} & Phlexible chemistry state \\
\hline
\end{DoxyParams}


Definition at line 61 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a1d5cd181f15a8489399a542e0ab98810}\label{namespacepmc__gas__state_a1d5cd181f15a8489399a542e0ab98810}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+input\+\_\+netcdf@{gas\+\_\+state\+\_\+input\+\_\+netcdf}}
\index{gas\+\_\+state\+\_\+input\+\_\+netcdf@{gas\+\_\+state\+\_\+input\+\_\+netcdf}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+input\+\_\+netcdf()}{gas\_state\_input\_netcdf()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+input\+\_\+netcdf (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{integer, intent(in)}]{ncid,  }\item[{type(\mbox{\hyperlink{structpmc__gas__data_1_1gas__data__t}{gas\+\_\+data\+\_\+t}}), intent(in)}]{gas\+\_\+data }\end{DoxyParamCaption})}



Read full state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Gas state to read.\\
\hline
\mbox{\tt in}  & {\em ncid} & Net\+C\+DF file ID, in data mode.\\
\hline
\mbox{\tt in}  & {\em gas\+\_\+data} & Gas data. \\
\hline
\end{DoxyParams}


Definition at line 611 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_ab70d882ec5ebc99127b4e815278cb15a}\label{namespacepmc__gas__state_ab70d882ec5ebc99127b4e815278cb15a}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+interp\+\_\+1d@{gas\+\_\+state\+\_\+interp\+\_\+1d}}
\index{gas\+\_\+state\+\_\+interp\+\_\+1d@{gas\+\_\+state\+\_\+interp\+\_\+1d}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+interp\+\_\+1d()}{gas\_state\_interp\_1d()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+interp\+\_\+1d (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), dimension(\+:), intent(in)}]{gas\+\_\+state\+\_\+list,  }\item[{real(kind=dp), dimension(size(gas\+\_\+state\+\_\+list)), intent(in)}]{time\+\_\+list,  }\item[{real(kind=dp), dimension(size(gas\+\_\+state\+\_\+list)), intent(in)}]{rate\+\_\+list,  }\item[{real(kind=dp), intent(in)}]{time,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{real(kind=dp), intent(out)}]{rate }\end{DoxyParamCaption})}



Determine the current gas\+\_\+state and rate by interpolating at the current time with the lists of gas\+\_\+states and rates. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em gas\+\_\+state\+\_\+list} & Gas states.\\
\hline
\mbox{\tt in}  & {\em time\+\_\+list} & Times (s).\\
\hline
\mbox{\tt in}  & {\em rate\+\_\+list} & Rates (s$^\wedge$\{-\/1\}).\\
\hline
\mbox{\tt in}  & {\em time} & Current time (s).\\
\hline
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Current gas state.\\
\hline
\mbox{\tt out}  & {\em rate} & Current rate (s$^\wedge$\{-\/1\}). \\
\hline
\end{DoxyParams}


Definition at line 228 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a589f5022a3cc8311ce829f31b8f4f641}\label{namespacepmc__gas__state_a589f5022a3cc8311ce829f31b8f4f641}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+is\+\_\+allocated@{gas\+\_\+state\+\_\+is\+\_\+allocated}}
\index{gas\+\_\+state\+\_\+is\+\_\+allocated@{gas\+\_\+state\+\_\+is\+\_\+allocated}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+is\+\_\+allocated()}{gas\_state\_is\_allocated()}}
{\footnotesize\ttfamily logical function pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+is\+\_\+allocated (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{gas\+\_\+state }\end{DoxyParamCaption})}



Determine whether the {\ttfamily gas\+\_\+state} is correctly allocated. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em gas\+\_\+state} & Gas state to check. \\
\hline
\end{DoxyParams}


Definition at line 75 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a119c0276d5da30938468361b975dad19}\label{namespacepmc__gas__state_a119c0276d5da30938468361b975dad19}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+mix@{gas\+\_\+state\+\_\+mix}}
\index{gas\+\_\+state\+\_\+mix@{gas\+\_\+state\+\_\+mix}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+mix()}{gas\_state\_mix()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+mix (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{val }\end{DoxyParamCaption})}



Average val over all processes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em val} & Value to average. \\
\hline
\end{DoxyParams}


Definition at line 461 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a418fa0d971e5c3f84a8f7f90b1da4ac7}\label{namespacepmc__gas__state_a418fa0d971e5c3f84a8f7f90b1da4ac7}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb@{gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb}}
\index{gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb@{gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb()}{gas\_state\_mole\_dens\_to\_ppb()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+mole\+\_\+dens\+\_\+to\+\_\+ppb (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{type(\mbox{\hyperlink{structpmc__env__state_1_1env__state__t}{env\+\_\+state\+\_\+t}}), intent(in)}]{env\+\_\+state }\end{DoxyParamCaption})}



Convert (mol m$^\wedge$\{-\/3\}) to (ppb). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Gas state.\\
\hline
\mbox{\tt in}  & {\em env\+\_\+state} & Environment state. \\
\hline
\end{DoxyParams}


Definition at line 212 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a8423bef411d25375dfd0b897f38f117b}\label{namespacepmc__gas__state_a8423bef411d25375dfd0b897f38f117b}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+reduce\+\_\+avg@{gas\+\_\+state\+\_\+reduce\+\_\+avg}}
\index{gas\+\_\+state\+\_\+reduce\+\_\+avg@{gas\+\_\+state\+\_\+reduce\+\_\+avg}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+reduce\+\_\+avg()}{gas\_state\_reduce\_avg()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+reduce\+\_\+avg (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{val }\end{DoxyParamCaption})}



Average val over all processes, with the result only on the root process. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em val} & Value to average. \\
\hline
\end{DoxyParams}


Definition at line 480 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_ab16ebc3648f8854efd45182cfb2097ca}\label{namespacepmc__gas__state_ab16ebc3648f8854efd45182cfb2097ca}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+scale@{gas\+\_\+state\+\_\+scale}}
\index{gas\+\_\+state\+\_\+scale@{gas\+\_\+state\+\_\+scale}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+scale()}{gas\_state\_scale()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+scale (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{real(kind=dp), intent(in)}]{alpha }\end{DoxyParamCaption})}



Scale a gas state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Existing gas state.\\
\hline
\mbox{\tt in}  & {\em alpha} & Scale factor. \\
\hline
\end{DoxyParams}


Definition at line 117 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a4bb5e19ab85b92dac65f973abcfcc416}\label{namespacepmc__gas__state_a4bb5e19ab85b92dac65f973abcfcc416}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc@{gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc}}
\index{gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc@{gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc()}{gas\_state\_set\_phlex\_conc()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+set\+\_\+phlex\+\_\+conc (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{this,  }\item[{type(\mbox{\hyperlink{structpmc__phlex__state_1_1phlex__state__t}{phlex\+\_\+state\+\_\+t}}), intent(inout)}]{phlex\+\_\+state }\end{DoxyParamCaption})}



Set Phlexible chemistry gas-\/phase species concentrations. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em this} & Gas state\\
\hline
\mbox{\tt in,out}  & {\em phlex\+\_\+state} & Phlexible chemisty state \\
\hline
\end{DoxyParams}


Definition at line 47 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_aa5f6579f91a3e4b7bfb959af9624088d}\label{namespacepmc__gas__state_aa5f6579f91a3e4b7bfb959af9624088d}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+set\+\_\+size@{gas\+\_\+state\+\_\+set\+\_\+size}}
\index{gas\+\_\+state\+\_\+set\+\_\+size@{gas\+\_\+state\+\_\+set\+\_\+size}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+set\+\_\+size()}{gas\_state\_set\_size()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+set\+\_\+size (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{integer, intent(in)}]{n\+\_\+spec }\end{DoxyParamCaption})}



Sets the sizes of the gas state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Gas state to be allocated.\\
\hline
\mbox{\tt in}  & {\em n\+\_\+spec} & Number of species. \\
\hline
\end{DoxyParams}


Definition at line 87 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a0ee905bb7dd2b8e8a576ea04e0f7b699}\label{namespacepmc__gas__state_a0ee905bb7dd2b8e8a576ea04e0f7b699}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+sub@{gas\+\_\+state\+\_\+sub}}
\index{gas\+\_\+state\+\_\+sub@{gas\+\_\+state\+\_\+sub}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+sub()}{gas\_state\_sub()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+sub (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{gas\+\_\+state\+\_\+delta }\end{DoxyParamCaption})}



Subtracts the given gas\+\_\+state\+\_\+delta. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Existing gas state.\\
\hline
\mbox{\tt in}  & {\em gas\+\_\+state\+\_\+delta} & Incremental state. \\
\hline
\end{DoxyParams}


Definition at line 178 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a041688687cbca4258024f99f99c679ea}\label{namespacepmc__gas__state_a041688687cbca4258024f99f99c679ea}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!gas\+\_\+state\+\_\+zero@{gas\+\_\+state\+\_\+zero}}
\index{gas\+\_\+state\+\_\+zero@{gas\+\_\+state\+\_\+zero}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{gas\+\_\+state\+\_\+zero()}{gas\_state\_zero()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::gas\+\_\+state\+\_\+zero (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{gas\+\_\+state }\end{DoxyParamCaption})}



Zeros the state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em gas\+\_\+state} & Gas state. \\
\hline
\end{DoxyParams}


Definition at line 103 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a4bb38e6e0dabd7944df3a2ce21020b92}\label{namespacepmc__gas__state_a4bb38e6e0dabd7944df3a2ce21020b92}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state}}
\index{pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state()}{pmc\_mpi\_pack\_gas\_state()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::pmc\+\_\+mpi\+\_\+pack\+\_\+gas\+\_\+state (\begin{DoxyParamCaption}\item[{character, dimension(\+:), intent(inout)}]{buffer,  }\item[{integer, intent(inout)}]{position,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{val }\end{DoxyParamCaption})}



Packs the given value into the buffer, advancing position. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em buffer} & Memory buffer.\\
\hline
\mbox{\tt in,out}  & {\em position} & Current buffer position.\\
\hline
\mbox{\tt in}  & {\em val} & Value to pack. \\
\hline
\end{DoxyParams}


Definition at line 513 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a2c2f0e95ffd10c3821f774e371d54d37}\label{namespacepmc__gas__state_a2c2f0e95ffd10c3821f774e371d54d37}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state}}
\index{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state()}{pmc\_mpi\_pack\_size\_gas\_state()}}
{\footnotesize\ttfamily integer function pmc\+\_\+gas\+\_\+state\+::pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+gas\+\_\+state (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{val }\end{DoxyParamCaption})}



Determines the number of bytes required to pack the given value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em val} & Value to pack. \\
\hline
\end{DoxyParams}


Definition at line 500 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_abd055facc753ab5852638928dfc1f7eb}\label{namespacepmc__gas__state_abd055facc753ab5852638928dfc1f7eb}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state}}
\index{pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state()}{pmc\_mpi\_reduce\_avg\_gas\_state()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::pmc\+\_\+mpi\+\_\+reduce\+\_\+avg\+\_\+gas\+\_\+state (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(in)}]{val,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{val\+\_\+avg }\end{DoxyParamCaption})}



Computes the average of val across all processes, storing the result in val\+\_\+avg on the root process. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em val} & Value to average.\\
\hline
\mbox{\tt in,out}  & {\em val\+\_\+avg} & Result. \\
\hline
\end{DoxyParams}


Definition at line 560 of file gas\+\_\+state.\+F90.

\mbox{\Hypertarget{namespacepmc__gas__state_a1b00ba3d007dfa64c0855d8446b414ff}\label{namespacepmc__gas__state_a1b00ba3d007dfa64c0855d8446b414ff}} 
\index{pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}!pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state}}
\index{pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state@{pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state}!pmc\+\_\+gas\+\_\+state@{pmc\+\_\+gas\+\_\+state}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state()}{pmc\_mpi\_unpack\_gas\_state()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+gas\+\_\+state\+::pmc\+\_\+mpi\+\_\+unpack\+\_\+gas\+\_\+state (\begin{DoxyParamCaption}\item[{character, dimension(\+:), intent(inout)}]{buffer,  }\item[{integer, intent(inout)}]{position,  }\item[{type(\mbox{\hyperlink{structpmc__gas__state_1_1gas__state__t}{gas\+\_\+state\+\_\+t}}), intent(inout)}]{val }\end{DoxyParamCaption})}



Unpacks the given value from the buffer, advancing position. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em buffer} & Memory buffer.\\
\hline
\mbox{\tt in,out}  & {\em position} & Current buffer position.\\
\hline
\mbox{\tt in,out}  & {\em val} & Value to pack. \\
\hline
\end{DoxyParams}


Definition at line 536 of file gas\+\_\+state.\+F90.

