\hypertarget{namespacepmc__bin__grid}{}\section{pmc\+\_\+bin\+\_\+grid Module Reference}
\label{namespacepmc__bin__grid}\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}


The \mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}} structure and associated subroutines.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}
\begin{DoxyCompactList}\small\item\em 1D grid, either logarithmic or linear. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
elemental integer function \mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}} (bin\+\_\+grid)
\begin{DoxyCompactList}\small\item\em Return the number of bins in the grid, or -\/1 if the bin grid is not allocated. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_abc23e1f905843cf09accd4dc7275ab5b}{vol\+\_\+to\+\_\+lnr}} (r, f\+\_\+vol, f\+\_\+lnr)
\begin{DoxyCompactList}\small\item\em Convert a concentration f(vol)d(vol) to f(ln(r))d(ln(r)) where vol = 4/3 pi r$^\wedge$3. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_a32e33f03578d23808536c09a6211a286}{bin\+\_\+grid\+\_\+make}} (bin\+\_\+grid, type, n\+\_\+bin, min, max)
\begin{DoxyCompactList}\small\item\em Generates the bin grid given the range and number of bins. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacepmc__bin__grid_a132c58d7b2762a65c43ede00ef90d41d}{bin\+\_\+grid\+\_\+find}} (bin\+\_\+grid, val)
\begin{DoxyCompactList}\small\item\em Find the bin number that contains a given value. \end{DoxyCompactList}\item 
real(kind=dp) function, dimension(\mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}}(x\+\_\+bin\+\_\+grid)) \mbox{\hyperlink{namespacepmc__bin__grid_a89431948ddfba118694e7ef50b09d32b}{bin\+\_\+grid\+\_\+histogram\+\_\+1d}} (x\+\_\+bin\+\_\+grid, x\+\_\+data, weight\+\_\+data)
\begin{DoxyCompactList}\small\item\em Make a histogram with of the given weighted data, scaled by the bin sizes. \end{DoxyCompactList}\item 
real(kind=dp) function, dimension(\mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}}(x\+\_\+bin\+\_\+grid), \mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}}(y\+\_\+bin\+\_\+grid)) \mbox{\hyperlink{namespacepmc__bin__grid_aca186db5214b8baadd1dd1dae1be5d98}{bin\+\_\+grid\+\_\+histogram\+\_\+2d}} (x\+\_\+bin\+\_\+grid, x\+\_\+data, y\+\_\+bin\+\_\+grid, y\+\_\+data, weight\+\_\+data)
\begin{DoxyCompactList}\small\item\em Make a 2D histogram with of the given weighted data, scaled by the bin sizes. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacepmc__bin__grid_af316422f9bd046e6172d94efcea4a84f}{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid}} (val)
\begin{DoxyCompactList}\small\item\em Determines the number of bytes required to pack the given value. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_a83f71861916da3f47f6baac24cf45010}{pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid}} (buffer, position, val)
\begin{DoxyCompactList}\small\item\em Packs the given value into the buffer, advancing position. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_a0cc8644ef392c33e58b296f03899f5f5}{pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid}} (buffer, position, val)
\begin{DoxyCompactList}\small\item\em Unpacks the given value from the buffer, advancing position. \end{DoxyCompactList}\item 
logical function \mbox{\hyperlink{namespacepmc__bin__grid_a7a3956cc26b9ca8736fb65b47a1f8b67}{pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid}} (val)
\begin{DoxyCompactList}\small\item\em Check whether all processors have the same value. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_a1e67dd0b3773b15d0d5523887106bcb1}{bin\+\_\+grid\+\_\+netcdf\+\_\+dim}} (bin\+\_\+grid, \mbox{\hyperlink{fractal_8_f90_a4e89f3f850921ff84a6dfce8b166ad50}{ncid}}, dim\+\_\+name, unit, dimid, long\+\_\+name, scale)
\begin{DoxyCompactList}\small\item\em Write a bin grid dimension to the given Net\+C\+DF file if it is not already present and in any case return the associated dimid. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_a00d8227bfb4b1e12eca6f5317dd4fd78}{bin\+\_\+grid\+\_\+output\+\_\+netcdf}} (bin\+\_\+grid, \mbox{\hyperlink{fractal_8_f90_a4e89f3f850921ff84a6dfce8b166ad50}{ncid}}, dim\+\_\+name, unit, long\+\_\+name, scale)
\begin{DoxyCompactList}\small\item\em Write a bin grid to the given Net\+C\+DF file. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacepmc__bin__grid_a962c49d1900bde86c51da0e40d7b6110}{bin\+\_\+grid\+\_\+input\+\_\+netcdf}} (bin\+\_\+grid, \mbox{\hyperlink{fractal_8_f90_a4e89f3f850921ff84a6dfce8b166ad50}{ncid}}, dim\+\_\+name, scale)
\begin{DoxyCompactList}\small\item\em Read full state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
integer, parameter \mbox{\hyperlink{namespacepmc__bin__grid_a1cbd1db8f8656cd463a3316504fb8ff1}{bin\+\_\+grid\+\_\+type\+\_\+invalid}} = 0
\begin{DoxyCompactList}\small\item\em Invalid type of bin grid. \end{DoxyCompactList}\item 
integer, parameter \mbox{\hyperlink{namespacepmc__bin__grid_a2132d94b8aad57a55efc8f8356690148}{bin\+\_\+grid\+\_\+type\+\_\+log}} = 1
\begin{DoxyCompactList}\small\item\em Logarithmically spaced bin grid. \end{DoxyCompactList}\item 
integer, parameter \mbox{\hyperlink{namespacepmc__bin__grid_ae02a160719a835f7ee0c048539c257cd}{bin\+\_\+grid\+\_\+type\+\_\+linear}} = 2
\begin{DoxyCompactList}\small\item\em Linearly spaced bin grid. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}} structure and associated subroutines. 

\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacepmc__bin__grid_a132c58d7b2762a65c43ede00ef90d41d}\label{namespacepmc__bin__grid_a132c58d7b2762a65c43ede00ef90d41d}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+find@{bin\+\_\+grid\+\_\+find}}
\index{bin\+\_\+grid\+\_\+find@{bin\+\_\+grid\+\_\+find}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+find()}{bin\_grid\_find()}}
{\footnotesize\ttfamily integer function pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+find (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{bin\+\_\+grid,  }\item[{real(kind=dp), intent(in)}]{val }\end{DoxyParamCaption})}



Find the bin number that contains a given value. 

If a particle is below the smallest bin then its bin number is 0. If a particle is above the largest bin then its bin number is {\ttfamily bin\+\_\+grid\+\_\+size(bin\+\_\+grid) + 1}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bin\+\_\+grid} & Bin\+\_\+grid.\\
\hline
\mbox{\tt in}  & {\em val} & Value to locate bin for. \\
\hline
\end{DoxyParams}


Definition at line 144 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a89431948ddfba118694e7ef50b09d32b}\label{namespacepmc__bin__grid_a89431948ddfba118694e7ef50b09d32b}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+histogram\+\_\+1d@{bin\+\_\+grid\+\_\+histogram\+\_\+1d}}
\index{bin\+\_\+grid\+\_\+histogram\+\_\+1d@{bin\+\_\+grid\+\_\+histogram\+\_\+1d}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+histogram\+\_\+1d()}{bin\_grid\_histogram\_1d()}}
{\footnotesize\ttfamily real(kind=dp) function, dimension(\mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}}(x\+\_\+bin\+\_\+grid)) pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+histogram\+\_\+1d (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{x\+\_\+bin\+\_\+grid,  }\item[{real(kind=dp), dimension(\+:), intent(in)}]{x\+\_\+data,  }\item[{real(kind=dp), dimension(size(x\+\_\+data)), intent(in)}]{weight\+\_\+data }\end{DoxyParamCaption})}



Make a histogram with of the given weighted data, scaled by the bin sizes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x\+\_\+bin\+\_\+grid} & x-\/axis bin grid.\\
\hline
\mbox{\tt in}  & {\em x\+\_\+data} & Data values on the x-\/axis.\\
\hline
\mbox{\tt in}  & {\em weight\+\_\+data} & Data value weights.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return histogram. 
\end{DoxyReturn}


Definition at line 174 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_aca186db5214b8baadd1dd1dae1be5d98}\label{namespacepmc__bin__grid_aca186db5214b8baadd1dd1dae1be5d98}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+histogram\+\_\+2d@{bin\+\_\+grid\+\_\+histogram\+\_\+2d}}
\index{bin\+\_\+grid\+\_\+histogram\+\_\+2d@{bin\+\_\+grid\+\_\+histogram\+\_\+2d}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+histogram\+\_\+2d()}{bin\_grid\_histogram\_2d()}}
{\footnotesize\ttfamily real(kind=dp) function, dimension(\mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}}(x\+\_\+bin\+\_\+grid),          \mbox{\hyperlink{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}{bin\+\_\+grid\+\_\+size}}(y\+\_\+bin\+\_\+grid)) pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+histogram\+\_\+2d (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{x\+\_\+bin\+\_\+grid,  }\item[{real(kind=dp), dimension(\+:), intent(in)}]{x\+\_\+data,  }\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{y\+\_\+bin\+\_\+grid,  }\item[{real(kind=dp), dimension(size(x\+\_\+data)), intent(in)}]{y\+\_\+data,  }\item[{real(kind=dp), dimension(size(x\+\_\+data)), intent(in)}]{weight\+\_\+data }\end{DoxyParamCaption})}



Make a 2D histogram with of the given weighted data, scaled by the bin sizes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x\+\_\+bin\+\_\+grid} & x-\/axis bin grid.\\
\hline
\mbox{\tt in}  & {\em x\+\_\+data} & Data values on the x-\/axis.\\
\hline
\mbox{\tt in}  & {\em y\+\_\+bin\+\_\+grid} & y-\/axis bin grid.\\
\hline
\mbox{\tt in}  & {\em y\+\_\+data} & Data values on the y-\/axis.\\
\hline
\mbox{\tt in}  & {\em weight\+\_\+data} & Data value weights.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return histogram. 
\end{DoxyReturn}


Definition at line 204 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a962c49d1900bde86c51da0e40d7b6110}\label{namespacepmc__bin__grid_a962c49d1900bde86c51da0e40d7b6110}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+input\+\_\+netcdf@{bin\+\_\+grid\+\_\+input\+\_\+netcdf}}
\index{bin\+\_\+grid\+\_\+input\+\_\+netcdf@{bin\+\_\+grid\+\_\+input\+\_\+netcdf}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+input\+\_\+netcdf()}{bin\_grid\_input\_netcdf()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+input\+\_\+netcdf (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(inout)}]{bin\+\_\+grid,  }\item[{integer, intent(in)}]{ncid,  }\item[{character(len=$\ast$), intent(in)}]{dim\+\_\+name,  }\item[{real(kind=dp), intent(in), optional}]{scale }\end{DoxyParamCaption})}



Read full state. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em bin\+\_\+grid} & bin\+\_\+grid to read.\\
\hline
\mbox{\tt in}  & {\em ncid} & Net\+C\+DF file ID, in data mode.\\
\hline
\mbox{\tt in}  & {\em dim\+\_\+name} & Dimension name.\\
\hline
\mbox{\tt in}  & {\em scale} & Factor to scale grid by after input. \\
\hline
\end{DoxyParams}


Definition at line 524 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a32e33f03578d23808536c09a6211a286}\label{namespacepmc__bin__grid_a32e33f03578d23808536c09a6211a286}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+make@{bin\+\_\+grid\+\_\+make}}
\index{bin\+\_\+grid\+\_\+make@{bin\+\_\+grid\+\_\+make}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+make()}{bin\_grid\_make()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+make (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(inout)}]{bin\+\_\+grid,  }\item[{integer, intent(in)}]{type,  }\item[{integer, intent(in)}]{n\+\_\+bin,  }\item[{real(kind=dp), intent(in)}]{min,  }\item[{real(kind=dp), intent(in)}]{max }\end{DoxyParamCaption})}



Generates the bin grid given the range and number of bins. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em bin\+\_\+grid} & New bin grid.\\
\hline
\mbox{\tt in}  & {\em type} & Type of bin grid.\\
\hline
\mbox{\tt in}  & {\em n\+\_\+bin} & Number of bins.\\
\hline
\mbox{\tt in}  & {\em min} & Minimum edge value.\\
\hline
\mbox{\tt in}  & {\em max} & Minimum edge value. \\
\hline
\end{DoxyParams}


Definition at line 84 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a1e67dd0b3773b15d0d5523887106bcb1}\label{namespacepmc__bin__grid_a1e67dd0b3773b15d0d5523887106bcb1}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+netcdf\+\_\+dim@{bin\+\_\+grid\+\_\+netcdf\+\_\+dim}}
\index{bin\+\_\+grid\+\_\+netcdf\+\_\+dim@{bin\+\_\+grid\+\_\+netcdf\+\_\+dim}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+netcdf\+\_\+dim()}{bin\_grid\_netcdf\_dim()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+netcdf\+\_\+dim (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{bin\+\_\+grid,  }\item[{integer, intent(in)}]{ncid,  }\item[{character(len=$\ast$), intent(in)}]{dim\+\_\+name,  }\item[{character(len=$\ast$), intent(in)}]{unit,  }\item[{integer, intent(out)}]{dimid,  }\item[{character(len=$\ast$), intent(in), optional}]{long\+\_\+name,  }\item[{real(kind=dp), intent(in), optional}]{scale }\end{DoxyParamCaption})}



Write a bin grid dimension to the given Net\+C\+DF file if it is not already present and in any case return the associated dimid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bin\+\_\+grid} & Bin\+\_\+grid structure.\\
\hline
\mbox{\tt in}  & {\em ncid} & Net\+C\+DF file ID, in data mode.\\
\hline
\mbox{\tt in}  & {\em dim\+\_\+name} & Dimension name.\\
\hline
\mbox{\tt in}  & {\em unit} & Units for the grid.\\
\hline
\mbox{\tt out}  & {\em dimid} & Dimid of the grid dimension.\\
\hline
\mbox{\tt in}  & {\em long\+\_\+name} & Long dimension name to use.\\
\hline
\mbox{\tt in}  & {\em scale} & Factor to scale grid by before output. \\
\hline
\end{DoxyParams}


Definition at line 388 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a00d8227bfb4b1e12eca6f5317dd4fd78}\label{namespacepmc__bin__grid_a00d8227bfb4b1e12eca6f5317dd4fd78}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+output\+\_\+netcdf@{bin\+\_\+grid\+\_\+output\+\_\+netcdf}}
\index{bin\+\_\+grid\+\_\+output\+\_\+netcdf@{bin\+\_\+grid\+\_\+output\+\_\+netcdf}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+output\+\_\+netcdf()}{bin\_grid\_output\_netcdf()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+output\+\_\+netcdf (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{bin\+\_\+grid,  }\item[{integer, intent(in)}]{ncid,  }\item[{character(len=$\ast$), intent(in)}]{dim\+\_\+name,  }\item[{character(len=$\ast$), intent(in)}]{unit,  }\item[{character(len=$\ast$), intent(in), optional}]{long\+\_\+name,  }\item[{real(kind=dp), intent(in), optional}]{scale }\end{DoxyParamCaption})}



Write a bin grid to the given Net\+C\+DF file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bin\+\_\+grid} & Bin\+\_\+grid structure.\\
\hline
\mbox{\tt in}  & {\em ncid} & Net\+C\+DF file ID, in data mode.\\
\hline
\mbox{\tt in}  & {\em dim\+\_\+name} & Dimension name.\\
\hline
\mbox{\tt in}  & {\em unit} & Units for the grid.\\
\hline
\mbox{\tt in}  & {\em long\+\_\+name} & Long dimension name to use.\\
\hline
\mbox{\tt in}  & {\em scale} & Factor to scale grid by before output. \\
\hline
\end{DoxyParams}


Definition at line 499 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}\label{namespacepmc__bin__grid_add81887392bce2b981cecd3cfe553a5f}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+size@{bin\+\_\+grid\+\_\+size}}
\index{bin\+\_\+grid\+\_\+size@{bin\+\_\+grid\+\_\+size}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+size()}{bin\_grid\_size()}}
{\footnotesize\ttfamily elemental integer function pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+size (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{bin\+\_\+grid }\end{DoxyParamCaption})}



Return the number of bins in the grid, or -\/1 if the bin grid is not allocated. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bin\+\_\+grid} & Bin grid structure. \\
\hline
\end{DoxyParams}


Definition at line 51 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a7a3956cc26b9ca8736fb65b47a1f8b67}\label{namespacepmc__bin__grid_a7a3956cc26b9ca8736fb65b47a1f8b67}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid}}
\index{pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid()}{pmc\_mpi\_allequal\_bin\_grid()}}
{\footnotesize\ttfamily logical function pmc\+\_\+bin\+\_\+grid\+::pmc\+\_\+mpi\+\_\+allequal\+\_\+bin\+\_\+grid (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(inout)}]{val }\end{DoxyParamCaption})}



Check whether all processors have the same value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em val} & Value to compare. \\
\hline
\end{DoxyParams}


Definition at line 350 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a83f71861916da3f47f6baac24cf45010}\label{namespacepmc__bin__grid_a83f71861916da3f47f6baac24cf45010}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid}}
\index{pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid()}{pmc\_mpi\_pack\_bin\_grid()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::pmc\+\_\+mpi\+\_\+pack\+\_\+bin\+\_\+grid (\begin{DoxyParamCaption}\item[{character, dimension(\+:), intent(inout)}]{buffer,  }\item[{integer, intent(inout)}]{position,  }\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{val }\end{DoxyParamCaption})}



Packs the given value into the buffer, advancing position. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em buffer} & Memory buffer.\\
\hline
\mbox{\tt in,out}  & {\em position} & Current buffer position.\\
\hline
\mbox{\tt in}  & {\em val} & Value to pack. \\
\hline
\end{DoxyParams}


Definition at line 298 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_af316422f9bd046e6172d94efcea4a84f}\label{namespacepmc__bin__grid_af316422f9bd046e6172d94efcea4a84f}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid}}
\index{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid()}{pmc\_mpi\_pack\_size\_bin\_grid()}}
{\footnotesize\ttfamily integer function pmc\+\_\+bin\+\_\+grid\+::pmc\+\_\+mpi\+\_\+pack\+\_\+size\+\_\+bin\+\_\+grid (\begin{DoxyParamCaption}\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(in)}]{val }\end{DoxyParamCaption})}



Determines the number of bytes required to pack the given value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em val} & Value to pack. \\
\hline
\end{DoxyParams}


Definition at line 282 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a0cc8644ef392c33e58b296f03899f5f5}\label{namespacepmc__bin__grid_a0cc8644ef392c33e58b296f03899f5f5}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid}}
\index{pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid@{pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid()}{pmc\_mpi\_unpack\_bin\_grid()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::pmc\+\_\+mpi\+\_\+unpack\+\_\+bin\+\_\+grid (\begin{DoxyParamCaption}\item[{character, dimension(\+:), intent(inout)}]{buffer,  }\item[{integer, intent(inout)}]{position,  }\item[{type(\mbox{\hyperlink{structpmc__bin__grid_1_1bin__grid__t}{bin\+\_\+grid\+\_\+t}}), intent(inout)}]{val }\end{DoxyParamCaption})}



Unpacks the given value from the buffer, advancing position. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em buffer} & Memory buffer.\\
\hline
\mbox{\tt in,out}  & {\em position} & Current buffer position.\\
\hline
\mbox{\tt in,out}  & {\em val} & Value to pack. \\
\hline
\end{DoxyParams}


Definition at line 324 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_abc23e1f905843cf09accd4dc7275ab5b}\label{namespacepmc__bin__grid_abc23e1f905843cf09accd4dc7275ab5b}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!vol\+\_\+to\+\_\+lnr@{vol\+\_\+to\+\_\+lnr}}
\index{vol\+\_\+to\+\_\+lnr@{vol\+\_\+to\+\_\+lnr}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{vol\+\_\+to\+\_\+lnr()}{vol\_to\_lnr()}}
{\footnotesize\ttfamily subroutine pmc\+\_\+bin\+\_\+grid\+::vol\+\_\+to\+\_\+lnr (\begin{DoxyParamCaption}\item[{real(kind=dp), intent(in)}]{r,  }\item[{real(kind=dp), intent(in)}]{f\+\_\+vol,  }\item[{real(kind=dp), intent(out)}]{f\+\_\+lnr }\end{DoxyParamCaption})}



Convert a concentration f(vol)d(vol) to f(ln(r))d(ln(r)) where vol = 4/3 pi r$^\wedge$3. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em r} & Radius (m).\\
\hline
\mbox{\tt in}  & {\em f\+\_\+vol} & Concentration as a function of volume.\\
\hline
\mbox{\tt out}  & {\em f\+\_\+lnr} & Concentration as a function of ln(r). \\
\hline
\end{DoxyParams}


Definition at line 68 of file bin\+\_\+grid.\+F90.



\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacepmc__bin__grid_a1cbd1db8f8656cd463a3316504fb8ff1}\label{namespacepmc__bin__grid_a1cbd1db8f8656cd463a3316504fb8ff1}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+type\+\_\+invalid@{bin\+\_\+grid\+\_\+type\+\_\+invalid}}
\index{bin\+\_\+grid\+\_\+type\+\_\+invalid@{bin\+\_\+grid\+\_\+type\+\_\+invalid}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+type\+\_\+invalid}{bin\_grid\_type\_invalid}}
{\footnotesize\ttfamily integer, parameter pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+type\+\_\+invalid = 0}



Invalid type of bin grid. 



Definition at line 21 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_ae02a160719a835f7ee0c048539c257cd}\label{namespacepmc__bin__grid_ae02a160719a835f7ee0c048539c257cd}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+type\+\_\+linear@{bin\+\_\+grid\+\_\+type\+\_\+linear}}
\index{bin\+\_\+grid\+\_\+type\+\_\+linear@{bin\+\_\+grid\+\_\+type\+\_\+linear}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+type\+\_\+linear}{bin\_grid\_type\_linear}}
{\footnotesize\ttfamily integer, parameter pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+type\+\_\+linear = 2}



Linearly spaced bin grid. 



Definition at line 25 of file bin\+\_\+grid.\+F90.

\mbox{\Hypertarget{namespacepmc__bin__grid_a2132d94b8aad57a55efc8f8356690148}\label{namespacepmc__bin__grid_a2132d94b8aad57a55efc8f8356690148}} 
\index{pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}!bin\+\_\+grid\+\_\+type\+\_\+log@{bin\+\_\+grid\+\_\+type\+\_\+log}}
\index{bin\+\_\+grid\+\_\+type\+\_\+log@{bin\+\_\+grid\+\_\+type\+\_\+log}!pmc\+\_\+bin\+\_\+grid@{pmc\+\_\+bin\+\_\+grid}}
\subsubsection{\texorpdfstring{bin\+\_\+grid\+\_\+type\+\_\+log}{bin\_grid\_type\_log}}
{\footnotesize\ttfamily integer, parameter pmc\+\_\+bin\+\_\+grid\+::bin\+\_\+grid\+\_\+type\+\_\+log = 1}



Logarithmically spaced bin grid. 



Definition at line 23 of file bin\+\_\+grid.\+F90.

